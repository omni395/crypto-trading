Технологии:

- Ruby on Rails — оснвной backend и frontend.
- Hotwire (Turbo/Stimulus) — динамика и realtime.
- TailwindCSS — стилизация интерфейса.
- PostgreSQL — база данных.
- Redis — кеш и pub/sub.
- Sidekiq — фоновые задачи.
- Docker Compose — контейнеризация и масштабирование.
- HAML — шаблоны.

Функционал приложения:

- Загрузка и обновление списка всех торговых пар с Binance каждые 5 минут (автоматически, без участия пользователя)
- Сохранение и синхронизация криптовалютных пар в базе данных с учётом изменений и появления новых монет
- **Быстрый поиск монет** по символу, названию, базовой или котируемой валюте (live search, сброс фильтра при очистке поля)
- **Фильтрация и пользовательские настройки** через общую модалку (объём, цена, изменение, количество сделок, биржа и др.)
- Отображение актуальных данных и графиков по выбранным инструментам
- Realtime-обновление данных графика через ActionCable (WebSocket)
- Возможность авторизации через Google (omniauth)
- Персональные пользовательские настройки фильтров и отображения
- Модульные компоненты интерфейса на Hotwire/Stimulus
- Фоновые задачи и обработка данных через Sidekiq
- Docker-окружение для быстрой разработки и деплоя

**Инкрементальное обновление монет (spot и futures):**
- При каждом обновлении с Binance (spot и futures) система:
  - Добавляет только новые монеты
  - Обновляет только те монеты, у которых изменились ключевые поля (`base_asset`, `quote_asset`, `status`)
  - Помечает как `inactive` те монеты, которые исчезли из публичного API Binance
- Это позволяет не трогать неизменившиеся записи и экономит ресурсы

**Кратко о фильтрах и поиске:**
- Быстрый поиск реализован как live search (поиск на лету), работает мгновенно без перезагрузки страницы.
- Если строка поиска очищена — фильтр сбрасывается, возвращается полный список монет.
- Фильтрация и настройки объединены в одну модалку, все параметры сохраняются для пользователя.
- Логика сброса фильтра реализована как на клиенте (Stimulus), так и на сервере (Rails), что гарантирует корректную работу в любых сценариях.

## TODO

1. **Фильтрация инструментов после изменения настроек**
   - После сохранения настроек в модальном окне фильтры должны автоматически применяться к списку инструментов.
2. **Добавить поля сортировки**
   - Реализовать выбор направления сортировки (вверх/вниз) для каждого фильтра прямо под или над строкой поиска.
3. **Выбор монет для главного графика**
   - Сделать возможность выбора одной или нескольких монет для отображения на основном графике (`main-chart-frame`).
4. **Добавить график на главный фрейм**
   - Внедрить виджет графика (например, [lightweight-charts](https://tradingview.github.io/lightweight-charts/)) на главный фрейм.
5. **Добавить карточку монеты на главный фрейм**
   - Для тестирования выбора монеты реализовать отображение краткой карточки выбранной монеты на главном фрейме.
6. **Модификация главного фрейма и графика**
   - В будущем доработать внешний вид и функционал главного фрейма и графического виджета.

---

**Предложения по улучшению (от Cascade):**

- Реализовать сохранение пользовательских фильтров и сортировок между сессиями (через localStorage или сервер).
- Добавить drag-and-drop для сортировки монет в списке избранных.
- Внедрить быстрые пресеты фильтров (например, "ТОП-10 по объёму", "Избранное", "Новые монеты").
- Добавить отображение истории поиска и быстрый возврат к последним запросам.
- Поддержать мобильную версию интерфейса с адаптивной версткой.
